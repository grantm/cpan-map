<!DOCTYPE html>
<html class="no-js">
<head>
  <meta http-equiv="content-type" content="text/html; charset=utf-8">
  <meta http-equiv="imagetoolbar" content="no" >
  <title>Map of CPAN</title>
  <script type="text/javascript">
    document.documentElement.className = 'js';
  </script>
  <style type="text/css">
    #intro, .js div.noscript { display: none; }
  </style>
  <link rel="stylesheet" type="text/css" href="static/cpan-map.css">
  <script type="text/javascript" src="static/jquery-1.7.min.js"></script>
  <script type="text/javascript" src="static/jquery.mousewheel.min.js"></script>
  <script type="text/javascript" src="static/sammy/sammy-0.7.0.min.js"></script>
  <script type="text/javascript" src="static/sammy/plugins/sammy.template-0.7.0.min.js"></script>
  <script type="text/javascript" src="static/sammy/plugins/sammy.title-0.7.0.min.js"></script>
  <script type="text/javascript" src="static/sammy/plugins/sammy.json-0.7.0.min.js"></script>
  <script type="text/javascript" src="static/jqueryui/1.8.16/ui/minified/jquery-ui.min.js"></script>
  <script type="text/javascript" src="static/cpan-map.js"></script>
  <script type="text/javascript">
    jQuery(function() {
        CpanMap({
            map_data_url: 'cpan-map-data.txt'
        });
    });
  </script>
  <link rel="shortcut icon" href="static/images/cpan-map.ico">
</head>
<body>

  <div class="noscript">
    <h1>Javascript Required</h1>
    <p>You must enable Javascript to use the <strong>Map of CPAN</strong>
    application.</p>
  </div>

  <div id="intro">

    <h2>What’s this all about?</h2>

    <p>The Map of CPAN is really just meant to be a bit of fun.  Search sites
    like <a href="http://search.cpan.org/">search.cpan.org</a> and the shiny
    new <a href="https://metacpan.org">metacpan.org</a> exist to help you find
    what you’re looking for.  The Map of CPAN allows you to find things you
    <em>weren’t looking for</em>.  <strong>Zoom</strong> in on things that
    catch your eye.  <strong>Explore</strong> patterns.  Follow
    <strong>links</strong> and dependency chains.  <strong>Discover</strong>
    stuff.  <strong>Surprise</strong> yourself.  <strong>It’s about
    serendipity!</strong></p>

    <p>The Map of CPAN was <a href="http://xkcd.com/">inspired by xkcd</a>
    (like about <a
    href="https://www.google.com/search?q=%22inspired%20by%20xkcd%22">50,000
    other things</a>).  Randall Munroe’s 2006 <a
    href="http://xkcd.com/195/">Map of the Internet</a> may look laughably
    dated now &ndash; it still shows unallocated IPV4 address space!  But it
    was a fun concept and set the seed of creating maps out of virtually
    nothing.</p>

    <h2>What do the colours mean?</h2>

    <p>Short story: Nothing.</p>

    <p>Longer story: The map was created by taking the names of all the
    distributions of Perl modules on CPAN and arranging them in
    <strong>alphabetical order</strong>.  This has the effect of grouping
    together distributions that share the same top-level
    <strong>namespace</strong>.  The long list of names (a single dimension)
    was then mapped onto a two dimensional plane using the
    <a href="http://en.wikipedia.org/wiki/Hilbert_curve">Hilbert curve</a>
    algorithm.  The important property of the algorithm is that a sequence of
    consecutive items from the list will end up physically close to each other
    on the plane.  Areas on the map are then <a
    href="http://en.wikipedia.org/wiki/Four_color_theorem">assigned colours</a>
    similar to the way colours are used on political maps to distinguish the
    borders of adjacent countries.</p>

    <p>To reduce the visual clutter, only the larger namespaces are coloured.
    Namespaces containing 30 or more distributions are said to have reached
    <strong>critical mass</strong> and are assigned a colour which differs from
    the colours of all the immediate neighbours.  Namespaces with fewer modules
    are submerged below the light blue primordial soup.  Over time as new
    modules are uploaded, new areas will rise; continental drift will move and
    reshape the existing areas; and existing areas will change colour.</p>

    <h2>So what’s on the map</h2>

    <p>Each small square on the map represents one
    <strong>distribution</strong> that is available for download from CPAN.  A
    distribution is a TAR or ZIP file containing one or more Perl
    <strong>modules</strong> and associated metadata.  Each distribution
    was uploaded by a <strong>maintainer</strong> &ndash; that might be the
    original author of the modules or it might be someone else who has taken
    over the job of maintenance.</p>

    <p>When you move your mouse over the map, the name of the distribution* and
    its maintainer will be displayed at the top of the page.  You can ...</p>

    <ul>
      <li>click on the map to see details of the selected distribution</li>
      <li>click on ‘<strong>dependencies</strong>’ to find what other
      distributions this one uses to do its work</li>
      <li>click on ‘<strong>reverse dependencies</strong>’ to find all the other
      distributions which use this one</li>
      <li>click on the maintainer to see all their other distributions</li>
      <li>type in one of the input boxes to <strong>search</strong> for a
      distribution or a maintainer</li>
    </ul>

    <p class="note">* Perl modules use double-colons in their names like
    ‘Algorithm::Knapsack’, whereas distributions usually use hyphens like
    ‘Algorithm-Knapsack’. The map application uses colons everywhere even
    though it’s mapping distributions.  You probably wouldn’t find that
    confusing at all if it wasn’t for this note.</p>


    <h2>Acknowledgements</h2>

    <p>Mapping to the Hilbert curve was done using Kevin Ryde’s amazingly
    comprehensive <a
    href="https://metacpan.org/release/Math-PlanePath">Math::PlanePath</a>
    &ndash; thanks Kevin!</p>

    <p>The map was rendered as a PNG using Lincoln Stein’s <a
    href="https://metacpan.org/release/GD">GD</a> module &ndash; thanks
    Lincoln!</p>

    <p>All the cool data look-ups are made possible by the awesome <a
    href="https://metacpan.org/">metacpan.org</a> site which is a fairly young
    site but has delivered an amazing service in a very short time.  Thanks to
    Olaf Alders and the <a href="https://metacpan.org/about/contributors">other
    contributers</a>, many of whom hang out on <a
    href="irc://irc.perl.org/metacpan">#metacpan on irc.perl.org</a> and have
    helped me with API queries.</p>

    <p>Of course the common threads that bind all this together are Larry Wall’s
    wonderful <a href="http://www.perl.org/">Perl programming language</a> and
    the <a href="http://cpan.org/">Comprehensive Perl Archive Network</a>.

    <p>The implementation of the interactive map is more of a JavaScript
    project than a Perl project.  Thanks to the all the contributers to
    <a href="http://jquery.org/">jQuery</a>,
    <a href="http://jqueryui.com/">jQuery UI</a> and
    <a href="http://sammyjs.org/">Sammy.js</a>.</p>

    <p>For an alternative visualisation of CPAN and its inter-dependencies,
    check out the <a href="http://cpan-explorer.org/">CPAN Explorer</a>.</p>

  </div>

  <script type="text/template" id="tmpl-home">
    <div class="greeting">
      <p class="logo"><img src="static/images/logo.png"></p>
      <p>Explore the Map of CPAN by zooming, panning and clicking with your mouse.</p>
      <p>You can search too.</p>

      <p><a class="show-intro">Need more help?</a></p>

      <p><a href="#/sights">Sightseeing tours</a></p>

      <table>
        <tr><th>Maintainers</th><td><%= ('' + maintainer_count).replace(/(\d\d\d)$/, ',$1') %></td></tr>
        <tr><th>Distributions</th><td><%= ('' + distribution_count).replace(/(\d\d\d)$/, ',$1') %></td></tr>
        <tr><th>Modules</th><td><%= ('' + module_count).replace(/(\d\d\d)$/, ',$1') %></td></tr>
      </table>
      <p class="last-update">Last Updated:<br><%= mod_list_date%></p>
    </div>
  </script>

  <script type="text/template" id="tmpl-not-found">
    <div class="not-found">
      <h2>Not Found</h2>
      <% if(what) { %>
      <p>Unable to find <%= what %></p>
      <% } %>
    </div>
  </script>

  <script type="text/template" id="tmpl-404">
    <div class="not-found">
      <h2>404 Not Found</h2>
      <p>The URL target '<%= hash_path %>' is not valid.</p>
    </div>
  </script>

  <script type="text/template" id="tmpl-sights">
    <div class="info">
      <p>This page will eventually link to leader-boards and other
      sights of interest.</p>
      <ul>
        <li><a href="#/sights/distro-counts">Maintainer distro counts</a></li>
        <li><a href="#/sights/favorites-leaderboard">++ Top 100 leaderboard</a></li>
      </ul>
    </div>
  </script>

  <script type="text/template" id="tmpl-distro-counts">
    <div class="info">
      <p>Maintainers with 50 or more distributions:</p>
      <table class="leaderboard">
        <tr>
          <th>Rank</th>
          <th>Maintainer</th>
          <th>Distros</th>
        </tr>
        <% for(var i = 0; i < maints.length; i++) {
            var maint = maints[i];
            var row_class = (i % 2) ? 'even' : 'odd';
        %>
        <tr class="<%= row_class %>">
          <td class="rank"><%= maint.rank %></td>
          <td><a href="#/maint/<%= maint.id %>"><%= maint.name %></a></td>
          <td class="score"><%= maint.distro_count %></td>
        </tr>
        <% } %>
      </table>
    </div>
  </script>

  <script type="text/template" id="tmpl-favorites-leaderboard">
    <div class="info">
      <p>The <a href="https://metacpan.org">metacpan.org</a> web site allows
      you to give your favourite distributions a ‘++’.</p>
      <p>The most popular distributions are:</p>
      <table class="leaderboard">
        <tr>
          <th>Rank</th>
          <th>Distribution</th>
          <th>Count</th>
        </tr>
        <% for(var i = 0; i < distro_list.length; i++) {
            var distro = distro_list[i];
            var row_class = (i % 2) ? 'even' : 'odd';
        %>
        <tr class="<%= row_class %>">
          <td class="rank"><%= distro.rank %></td>
          <td><a href="#/distro/<%= distro.name %>"><%= distro.name %></a></td>
          <td class="score"><%= distro.score %></td>
        </tr>
        <% } %>
      </table>
    </div>
  </script>

  <script type="text/template" id="tmpl-distro">
    <div class="info">
      <p class="dist-name"><a href="https://metacpan.org/release/<%= meta.distribution %>" title="<%= name %>"><%= name %></a></p>
      <% if(meta.abstract) { %>
          <p class="abstract"><%= meta.abstract %></p>
      <% } else { %>
          <p class="abstract"><i>No abstract.</i></p>
      <% } %>
      <% if(maintainer.avatar_url) { %>
      <div class="avatar"><a href="#/maint/<%= maintainer.id %>"><img src="<%= maintainer.avatar_url %>"></a></div>
      <% } %>
      <% if(maintainer.name) { %>
      <p><label>Maintainer:</label><%= maintainer.name %></p>
      <% } %>
      <p><label>CPAN ID:</label><a href="#/maint/<%= maintainer.id %>"><%= maintainer.id %></a></p>
      <p><label>Version:</label><%= meta.version %></p>
      <p><label>Released:</label><%= meta.date.replace(/T.*$/, '') %></p>
      <% if(rating_stars) { %>
        <div class="cpanratings"><div class="stars s<%= rating_stars %>"></div> (<a href="http://cpanratings.perl.org/dist/<%= meta.distribution %>"><%= rating_count %> review<%= rating_count > 1 ? 's' : '' %></a>)</div>
      <% } else { %>
        <div class="cpanratings"><div class="stars s0"></div> (<a href="http://cpanratings.perl.org/dist/<%= meta.distribution %>">not rated</a>)</div>
      <% } %>
      <p><a href="https://metacpan.org/source/<%= meta.author %>/<%= meta.name %>">Browse</a></p>
      <% if(meta.download_url) { %>
      <p><a href="<%= meta.download_url %>">Download</a></p>
      <% } %>
      <% if(meta.resources.homepage) { %>
          <p><a href="<%= meta.resources.homepage %>">Homepage</a></p>
      <% } %>
      <% if(meta.resources.repository && meta.resources.repository.web) { %>
          <p><a href="<%= meta.resources.repository.web %>">Repository</a></p>
      <% } %>
      <% if(meta.resources.bugtracker && meta.resources.bugtracker.web) { %>
          <p><a href="<%= meta.resources.bugtracker.web %>">Bug Tracker</a></p>
      <% } %>
      <p><a href="#/distro/<%= name %>/deps">Dependencies</a></p>
      <p><a href="#/distro/<%= name %>/rdeps">Reverse dependencies</a></p>
    </div>
  </script>

  <script type="text/template" id="tmpl-deps">
    <div class="info">
      <p class="dist-name"><a href="#/distro/<%= name %>" title="<%= name %>"><%= name %></a></p>
      <% if(deps.length) { %>
        <p>Dependencies by phase</p>
        <% for(var i = 0; i < deps.length; i++) { var phase = deps[i]; %>
          <h2>Phase: “<%= phase.name %>”</h2>
          <ul>
          <% for(var j = 0; j < phase.deps.length; j++) { var dep = phase.deps[j]; %>
            <% if(dep.distro) { %>
            <li><a href="#/distro/<%= dep.distro %>"><%= dep.module %></a></li>
            <% } else { %>
            <li><a href="#/module/<%= dep.module %>"><%= dep.module %></a></li>
            <% } %>
          <% } %>
          </ul>
        <% } %>
      <% } else {%>
        <p>This module lists no dependencies.</p>
      <% } %>
    </div>
  </script>

  <script type="text/template" id="tmpl-rdeps">
    <div class="info">
      <% if(rdeps.length > 0) { %>
        <% if(rdeps.length == 1) { %>
          <p>1 distribution depends on <a href="#/distro/<%= name %>" title="<%= name %>"><%= name %></a></p>
        <% } else { %>
          <p><%= rdeps.length %> distributions depend on <a href="#/distro/<%= name %>" title="<%= name %>"><%= name %></a></p>
        <% } %>
        <ul>
        <% for(var i = 0; i < rdeps.length; i++) { var dist = rdeps[i]; %>
          <% if(dist.distro) { %>
          <li><a href="#/distro/<%= dist.distro %>"><%= dist.distro %></a></li>
          <% } else { %>
          <li><a href="#/module/<%= dist.module %>"><%= dist.module %></a></li>
          <% } %>
        <% } %>
          </ul>
      <% } else {%>
        <p>No distributions depend on <a href="#/distro/<%= name %>" title="<%= name %>"><%= name %></a></p>
      <% } %>
    </div>
  </script>

  <script type="text/template" id="tmpl-maint">
    <div class="info">
      <p class="dist-name"><a href="https://metacpan.org/author/<%= maint.id %>" title="<%= (maint.name || maint.id) %>"><%= (maint.name || maint.id) %></a></p>
      <% if(maint.avatar_url) { %>
      <div class="avatar"><img src="<%= maint.avatar_url %>"></div>
      <% } %>
      <p><label>CPAN ID:</label><a href="#/maint/<%= maint.id %>"><%= maint.id %></a></p>
      <% if(maint.meta.location) { %>
        <p><label>Location:</label><%= maint.meta.location %></a></p>
      <% } %>
      <% if(maint.meta.website && maint.meta.website[0]) { %>
          <p><a href="<%= maint.meta.website[0] %>">Web site</a></p>
      <% } %>
      <% if(maint.social_links) { %>
        <ul class="social">
        <% for(var i = 0; i < maint.social_links.length; i++) { var site = maint.social_links[i]; %>
            <li class="soc-<%= site.name %>"><a href="<%= site.url %>" title="<%= site.name + ' - ' + site.id %>"></a></li>
        <% } %>
        </ul>
      <% } %>
      <h2>Distributions: (<%= distros.length %>)</h2>
      <ul>
      <% for(var i = 0; i < distros.length; i++) { %>
          <li><a href="#/distro/<%= distros[i].name %>" title="<%= distros[i].name %>"><%= distros[i].name %></a></li>
      <% } %>
      </ul>
  </script>

</body>
</html>

